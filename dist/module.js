define(["@grafana/data","@grafana/runtime","react","@grafana/ui"],(e,t,r,n)=>(()=>{"use strict";var o={7:e=>{e.exports=n},531:e=>{e.exports=t},781:t=>{t.exports=e},959:e=>{e.exports=r}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return o[e](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};s.r(l),s.d(l,{plugin:()=>w});var c=s(781),u=s(531);const i={queryText:"",queryHost:"",allHosts:!1};function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class b extends u.DataSourceWithBackend{applyTemplateVariables(e){const t=(0,u.getTemplateSrv)();return r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){p(e,t,r[t])})}return e}({},e),n=null!=(n={queryText:e.queryText?t.replace(e.queryText):"",queryHost:e.queryHost?t.replace(e.queryHost):"",allHosts:!!e.allHosts&&"true"===t.replace(e.allHosts?"true":"false")})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(n)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}),r;var r,n}getDefaultQuery(e){return i}constructor(e){super(e)}}var y=s(959),f=s.n(y),O=s(7);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){d(e,t,r[t])})}return e}function j(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){m(e,t,r[t])})}return e}function v(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}const w=new c.DataSourcePlugin(b).setConfigEditor(function(e){const{onOptionsChange:t,options:r}=e,{jsonData:n,secureJsonFields:o}=r,a=r.secureJsonData||{};return f().createElement("div",{className:"gf-form-group"},f().createElement(O.InlineField,{label:"Host",labelWidth:12},f().createElement(O.Input,{onChange:e=>{const n=j(g({},r.jsonData),{host:e.target.value});t(j(g({},r),{jsonData:n}))},value:n.host||"",placeholder:"A host IP address",width:40})),f().createElement(O.InlineField,{label:"User",labelWidth:12},f().createElement(O.SecretInput,{isConfigured:o&&o.user,value:a.user||"",placeholder:"A Database user",width:40,onReset:()=>{t(j(g({},r),{secureJsonFields:j(g({},r.secureJsonFields),{user:!1}),secureJsonData:j(g({},r.secureJsonData),{user:""})}))},onChange:e=>{t(j(g({},r),{secureJsonData:{user:e.target.value}}))}})),f().createElement(O.InlineField,{label:"Password",labelWidth:12},f().createElement(O.SecretInput,{isConfigured:o&&o.password,value:a.password||"",placeholder:"secure json field (backend only)",width:40,onReset:()=>{t(j(g({},r),{secureJsonFields:j(g({},r.secureJsonFields),{password:!1}),secureJsonData:j(g({},r.secureJsonData),{password:""})}))},onChange:e=>{t(j(g({},r),{secureJsonData:{password:e.target.value}}))}})))}).setQueryEditor(function({query:e,onChange:t,onRunQuery:r}){const{queryText:n,queryHost:o,allHosts:a}=e;return f().createElement("div",{className:"gf-form"},f().createElement(O.InlineField,{label:"Query Text",labelWidth:16,tooltip:"A CQL Query"},f().createElement(O.Input,{onChange:r=>{t(v(h({},e),{queryText:r.target.value}))},value:n||"",width:60})),f().createElement(O.Checkbox,{onChange:n=>{t(v(h({},e),{allHosts:n.target.checked})),r()},value:a,label:"All host",description:"Read from all hosts"}),f().createElement(O.InlineField,{label:"Hosts"},f().createElement(O.Input,{onChange:n=>{t(v(h({},e),{queryHost:n.target.value})),r()},value:o,width:8})))});return l})());
//# sourceMappingURL=module.js.map